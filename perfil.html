<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DoeApp | Perfil</title>
    <link rel="stylesheet" href="css/footer.css">
    <link rel="stylesheet" href="css/header.css">
    <link rel="stylesheet" href="css/body.css">
    <link rel="stylesheet" href="css/carousel.css">

    <link rel="stylesheet" href="css/perfil.css">
</head>

<body>
    <header>
        <div class="logo">
            <a href="index.html"><img src="img/logo.png" alt="Logo do site"></a>
        </div>
        <div class="hamburger" id="hamburger">&#9776;</div>
        <nav id="nav-links">
            <div class="dropdown-menu" id="dropdownMenu">
                <a href="perfil.html">Ver Perfil</a>
                <button id="logoutButton">Deslogar</button>
            </div>
            <a href="explorar.html">EXPLORAR</a>
            <a href="sobre.html">SOBRE NÓS</a>
            <a id="contatoButton">CONTATO</a>
            <a href="login.html" class="btn-entrar">ENTRAR</a>
            <a href="cadastro.html" class="btn-cadastrar">CADASTRAR-SE</a>
            <a class="btn-perfil">NOME</a>
        </nav>
        <div class="overlay" id="overlay"></div>
        <script src="js/menu.js"></script>
    </header>

    <div class="main-container">
        <!-- Seção de Perfil -->
        <div class="profile-section">
            <img src="img/default-profile-picture.png" alt="Imagem de Perfil" class="profile-pic" id="profile-photo">
            <div>
                <h1 class="username" id="username">Nome</h1>
                <p class="username-description" id="profile-description">Breve descrição da pessoa ou organização.</p>
                <button class="edit-button" onclick="toggleEditMenu()">Editar Perfil</button>
            </div>
        </div>

        <!-- Menu de Edição (Pop-up) -->
        <div class="edit-menu" id="edit-menu">
            <label for="name-input">Alterar Nome</label>
            <input type="text" id="name-input" placeholder="Novo nome">
            <label for="photo-input">Alterar Foto</label>
            <input type="file" id="photo-input" accept="image/*">
            <label for="description-input">Alterar Descrição</label>
            <input type="text" id="description-input" placeholder="Nova descrição">
            <button onclick="saveChanges()">Salvar Alterações</button>
            <button onclick="toggleEditMenu()">Cancelar</button>
        </div>

            <!-- Seções de Doações e Favoritos -->
            <div class="sections">
                <div class="section">
                    <h3>Últimas Doações</h3>
                    <div class="campaign-list">
                        <div class="campaign-item">
                            <img src="img/placeholder.png" alt="Campanha 1">
                            <h4>Título Campanha 1</h4>
                            <p>Descrição da Campanha 1</p>
                        </div>
                        <div class="campaign-item">
                            <img src="img/placeholder.png" alt="Campanha 1">
                            <h4>Título Campanha 1</h4>
                            <p>Descrição da Campanha 1</p>
                        </div>
                        <div class="campaign-item">
                            <img src="img/placeholder.png" alt="Campanha 1">
                            <h4>Título Campanha 1</h4>
                            <p>Descrição da Campanha 1</p>
                        </div>
                        <div class="campaign-item">
                            <img src="img/placeholder.png" alt="Campanha 1">
                            <h4>Título Campanha 1</h4>
                            <p>Descrição da Campanha 1</p>
                        </div>
                        <div class="campaign-item">
                            <img src="img/placeholder.png" alt="Campanha 1">
                            <h4>Título Campanha 1</h4>
                            <p>Descrição da Campanha 1</p>
                        </div>
                        <div class="campaign-item">
                            <img src="img/placeholder.png" alt="Campanha 2">
                            <h4>Título Campanha 2</h4>
                            <p>Descrição da Campanha 2</p>
                        </div>
                    </div>
                </div>
    
                <div class="section">
                    <h3>Seus Favoritos</h3>
                    <div class="campaign-list">
                        <div class="campaign-item">
                            <img src="img/placeholder.png" alt="Favorito 1">
                            <h4>Título Favorito 1</h4>
                            <p>Descrição do Favorito 1</p>
                        </div>
                        <div class="campaign-item">
                            <img src="img/placeholder.png" alt="Favorito 1">
                            <h4>Título Favorito 1</h4>
                            <p>Descrição do Favorito 1</p>
                        </div>
                        <div class="campaign-item">
                            <img src="img/placeholder.png" alt="Favorito 1">
                            <h4>Título Favorito 1</h4>
                            <p>Descrição do Favorito 1</p>
                        </div>
                        <div class="campaign-item">
                            <img src="img/placeholder.png" alt="Favorito 1">
                            <h4>Título Favorito 1</h4>
                            <p>Descrição do Favorito 1</p>
                        </div>
                        <div class="campaign-item">
                            <img src="img/placeholder.png" alt="Favorito 1">
                            <h4>Título Favorito 1</h4>
                            <p>Descrição do Favorito 1</p>
                        </div>
                        <div class="campaign-item">
                            <img src="img/placeholder.png" alt="Favorito 2">
                            <h4>Título Favorito 2</h4>
                            <p>Descrição do Favorito 2</p>
                        </div>
                    </div>
                </div>
            </div>

        </div>

    <!-- Scripts -->
    <script>
        // Carregar nome do usuário do localStorage
        const nome = localStorage.getItem("nome");
        const campoNome = document.getElementById("username");
        if (nome) {
            campoNome.textContent = nome;
        }

        function toggleEditMenu() {
            const menu = document.getElementById('edit-menu');
            const overlay = document.getElementById('overlay');
            menu.classList.toggle('visible');
            overlay.classList.toggle('visible');
        }

        // Função para salvar alterações do perfil
        function saveChanges() {
            const nameInput = document.getElementById('name-input').value;
            const descriptionInput = document.getElementById('description-input').value;
            const photoInput = document.getElementById('photo-input').files[0];

            // Atualizar nome se fornecido
            if (nameInput) {
                document.getElementById('username').textContent = nameInput;
                localStorage.setItem("nome", nameInput);
            }

            // Atualizar descrição se fornecida
            if (descriptionInput) {
                document.getElementById('profile-description').textContent = descriptionInput;
            }

            // Atualizar foto de perfil se fornecida
            if (photoInput) {
                const reader = new FileReader();
                reader.onload = function (e) {
                    document.getElementById('profile-photo').src = e.target.result;
                };
                reader.readAsDataURL(photoInput);
            }

            toggleEditMenu(); // Fechar o menu de edição após salvar
        }
    </script>

    <script src="js/scriptgeral.js"></script>
</body>

</html>
